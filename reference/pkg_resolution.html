<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Dependency resolution — pkg_resolution • pkgdepends</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Source_Sans_Pro-0.4.10/font.css" rel="stylesheet"><link href="../deps/Source_Code_Pro-0.4.10/font.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Dependency resolution — pkg_resolution"><meta name="description" content="Collect information about dependencies of R packages, recursively."><meta property="og:description" content="Collect information about dependencies of R packages, recursively."><script defer data-domain="https://r-lib.github.io/pkgdepends,all.tidyverse.org" src="https://plausible.io/js/plausible.js"></script></head><body>
    <a href="#container" class="visually-hidden-focusable">Skip to content</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-none" data-bs-theme="default" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">pkgdepends</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.9.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/pkgdepends-how-to.html">How-to</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">News</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/r-lib/pkgdepends/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic" id="container">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Dependency resolution</h1>
      <small class="dont-index">Source: <a href="https://github.com/r-lib/pkgdepends/blob/main/R/resolution.R" class="external-link"><code>R/resolution.R</code></a></small>
      <div class="d-none name"><code>pkg_resolution.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Collect information about dependencies of R packages, recursively.</p>
    </div>


    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p><code><a href="pkg_deps.html">pkg_deps</a></code>, <code><a href="pkg_download_proposal.html">pkg_download_proposal</a></code> and <code><a href="pkg_installation_proposal.html">pkg_installation_proposal</a></code>
all resolve their dependencies recursively, to obtain information about
all packages needed for the specified <a href="pkg_refs.html">package references</a>.</p><div class="section">
<h3 id="cran-and-bioconductor-packages">CRAN and Bioconductor packages<a class="anchor" aria-label="anchor" href="#cran-and-bioconductor-packages"></a></h3>


<p>Resolution currently start by downloading the CRAN and Bioconductor
metadata, if it is out of date. For CRAN, we also download additional
metadata, that includes file sizes, SHA hashes, system requirements,
and "built" (for binary packages) and "packaged" time stamps. The extra
meta information is updated daily currently, so for some packages it
might be incorrect or missing.</p>
</div>

<div class="section">
<h3 id="github-packages">GitHub packages<a class="anchor" aria-label="anchor" href="#github-packages"></a></h3>


<p>For GitHub packages, we query their download URL to be able to
download the package later, and also download their <code>DESCRIPTION</code>
file, to learn about their dependencies.</p>
</div>

<div class="section">
<h3 id="local-packages">Local packages<a class="anchor" aria-label="anchor" href="#local-packages"></a></h3>


<p>From local package files we extract the <code>DESCRIPTION</code> file, to learn
about their dependencies.</p>
</div>

<div class="section">
<h3 id="the-remotes-field-in-description">The <code>remotes</code> field in <code>DESCRIPTION</code><a class="anchor" aria-label="anchor" href="#the-remotes-field-in-description"></a></h3>


<p>We support the non-standard <code>Remotes</code> field in the package <code>DESCRIPTION</code>
file. This field may contain a list of package references for any of the
dependencies that are specified in one of the <code>Depends</code>, <code>Includes</code>,
<code>Suggests</code> or <code>Enhances</code> fields. The syntax is a comma separated list of
<a href="pkg_refs.html">package references</a>.</p>
</div>

<div class="section">
<h3 id="the-result">The result<a class="anchor" aria-label="anchor" href="#the-result"></a></h3>


<p>The result of the resolution is a data frame with information about the
packages and their dependencies.</p><ul><li><p><code>built</code>: the <code>Built</code> field from the <code>DESCRIPTION</code> file of binary
packages, for which this information is available.</p></li>
<li><p><code>cache_status</code>: whether the package file is in the package cache.
It is <code>NA</code> for <code>installed::</code> package refs.</p></li>
<li><p><code>dep_types</code>: character vector of dependency types that were
considered for this package. (This is a list column.)</p></li>
<li><p><code>deps</code>: dependencies of the package, in a data frame. See
"Package dependency tables" below.</p></li>
<li><p><code>direct</code>: whether this package (ref, really) was directly specified,
or added as a dependency.</p></li>
<li><p><code>error</code>: this is a list column that contains error objects for the
refs that pkgdepends failed to resolve.</p></li>
<li><p><code>filesize</code>: the file size in bytes, or <code>NA</code> if this information is
not available.</p></li>
<li><p><code>license</code>: license of the package, or <code>NA</code> if not available.</p></li>
<li><p><code>md5sum</code>: MD5 checksum of the package file, if available, or <code>NA</code> if
not.</p></li>
<li><p><code>metadata</code>: a named character vector. These fields will be (should be)
added to the installed <code>DESCRIPTION</code> file of the package.</p></li>
<li><p><code>mirror</code>: URL of the CRAN(-like) mirror site where the metadata was
obtained from. It is NA for non-CRAN-like sources, e.g. local files,
installed packages, GitHub, etc.</p></li>
<li><p><code>needscompilation</code>: whether the package needs compilation.</p></li>
<li><p><code>package</code>: package name.</p></li>
<li><p><code>priority</code>: this is <code>"base"</code> for base packages, <code>"recommended"</code> for
recommended packages, and <code>NA</code> otherwise.</p></li>
<li><p><code>ref</code>: package reference.</p></li>
<li><p><code>remote</code>: the parsed <code>remote_ref</code> objects, see <code><a href="parse_pkg_refs.html">parse_pkg_refs()</a></code>.
This is a list column.</p></li>
<li><p><code>repodir</code>: the directory where this package should be in a CRAN-like
repository.</p></li>
<li><p><code>sha256</code>: SHA256 hash of the package file, if available, otherwise
<code>NA</code>.</p></li>
<li><p><code>sources</code>: URLs where this package can be downloaded from. This is not
necessarily a URL that you can download with a HTTP client. E.g. for
<code>local::</code> refs it is a path, and for <code>git::</code> refs it is a URL for git.
It is a zero length vector for <code>installed::</code> refs.</p></li>
<li><p><code>status</code>: status of the dependency resolution, <code>"OK"</code> or <code>"FAILED"</code>.</p></li>
<li><p><code>target</code>: path where this package should be saved in a CRAN-repository.</p></li>
<li><p><code>type</code>: ref type.</p></li>
<li><p><code>version</code>: package version.</p></li>
</ul><p>Additional columns might be present. They are either used internally or
they are experimental. They might be removed or changed at any time.</p>
<p>All columns are of type character, except for <code>direct</code> (logical),
<code>needscompilation</code> (logical), <code>filesize</code> (integer), <code>deps</code> (list column, see
"Package dependency tables" below), <code>sources</code> (list of character vectors),
<code>remote</code> (list), <code>error</code> (list), <code>metadata</code> (list), <code>dep_types</code> (list).</p><div class="section">
<h4 id="package-dependency-tables">Package dependency tables<a class="anchor" aria-label="anchor" href="#package-dependency-tables"></a></h4>


<p>A package dependency tables in the <code>deps</code> list column have five columns
currently:</p><ul><li><p><code>ref</code>: the package ref of the dependency.</p></li>
<li><p><code>type</code>: the dependency type, in all lowercase. I.e. <code>imports</code>,
<code>suggests</code>, etc.</p></li>
<li><p><code>package</code>: package name of the dependency.</p></li>
<li><p><code>op</code>: operator for version requirements, e.g. <code>&gt;=</code>.</p></li>
<li><p><code>version</code>: version number, for version requirements.</p></li>
</ul></div>


</div>

<div class="section">
<h3 id="resolution-failures">Resolution failures<a class="anchor" aria-label="anchor" href="#resolution-failures"></a></h3>


<p>The resolution process does not stop on error. Instead, failed
resolutions return and error object in the <code>error</code> column of the result
data frame.</p>
</div>

    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


   </div>
  <footer><div class="container">
  <div class="pkgdown-footer-left">
  <p>Developed by <a href="https://github.com/gaborcsardi" class="external-link">Gábor Csárdi</a>, <a href="https://www.posit.co" class="external-link"><img src="https://www.tidyverse.org/posit-logo.svg" alt="Posit" height="16" width="62" style="margin-bottom: 3px;"></a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

  </div></footer></body></html>

