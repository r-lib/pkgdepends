<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>R6 class for installation from a lock file — new_pkg_installation_plan • pkgdepends</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Source_Sans_Pro-0.4.10/font.css" rel="stylesheet"><link href="../deps/Source_Code_Pro-0.4.10/font.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="R6 class for installation from a lock file — new_pkg_installation_plan"><meta name="description" content="An installation plan is similar to an installation proposal
(i.e. pkg_installation_proposal), but it already contains the solved
dependencies, complete with download URLs."><meta property="og:description" content="An installation plan is similar to an installation proposal
(i.e. pkg_installation_proposal), but it already contains the solved
dependencies, complete with download URLs."><meta name="robots" content="noindex"><script defer data-domain="https://r-lib.github.io/pkgdepends,all.tidyverse.org" src="https://plausible.io/js/plausible.js"></script></head><body>
    <a href="#container" class="visually-hidden-focusable">Skip to content</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-none" data-bs-theme="default" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">pkgdepends</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">0.8.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/pkgdepends-how-to.html">How-to</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">News</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/r-lib/pkgdepends/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic" id="container">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>R6 class for installation from a lock file</h1>
      <small class="dont-index">Source: <a href="https://github.com/r-lib/pkgdepends/blob/main/R/pkg-lockfile.R" class="external-link"><code>R/pkg-lockfile.R</code></a></small>
      <div class="d-none name"><code>pkg_installation_plan.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>An installation plan is similar to an installation proposal
(i.e. <a href="pkg_installation_proposal.html">pkg_installation_proposal</a>), but it already contains the solved
dependencies, complete with download URLs.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">new_pkg_installation_plan</span><span class="op">(</span>lockfile <span class="op">=</span> <span class="st">"pkg.lock"</span>, config <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-lockfile">lockfile<a class="anchor" aria-label="anchor" href="#arg-lockfile"></a></dt>
<dd><p>Path to the lock file to use.</p></dd>


<dt id="arg-config">config<a class="anchor" aria-label="anchor" href="#arg-config"></a></dt>
<dd><p>Configuration options, a named list. See
<a href="pkg_config.html">'Configuration'</a>. If it does not include <code>library</code>, then
<code>.libPaths()[1]</code> is added as <code>library</code>.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Additional arguments, passed to
<a href="#method-new"><code>pkg_installation_plan$new()</code></a>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p><code>new_pkg_installation_plan()</code> returns a <code>pkg_installation_plan</code>
object.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Typically you create a <code>pkg_installation_plan</code> object with
<code>new_pkg_installation_plan()</code> and then call its <code>$download()</code> method
to download the packages and then its <code>$install()</code> method to install
them.</p>
    </div>
    <div class="section level2">
    <h2 id="super-class">Super class<a class="anchor" aria-label="anchor" href="#super-class"></a></h2>
    <p><code><a href="pkg_installation_proposal.html">pkgdepends::pkg_installation_proposal</a></code> -&gt; <code>pkg_installation_plan</code></p>
    </div>
    <div class="section level2">
    <h2 id="methods">Methods<a class="anchor" aria-label="anchor" href="#methods"></a></h2>

<div class="section">
<h3 id="public-methods">Public methods<a class="anchor" aria-label="anchor" href="#public-methods"></a></h3>

<ul><li><p><a href="#method-pkg_installation_plan-new"><code>pkg_installation_plan$new()</code></a></p></li>
<li><p><a href="#method-pkg_installation_plan-resolve"><code>pkg_installation_plan$resolve()</code></a></p></li>
<li><p><a href="#method-pkg_installation_plan-async_resolve"><code>pkg_installation_plan$async_resolve()</code></a></p></li>
<li><p><a href="#method-pkg_installation_plan-get_solve_policy"><code>pkg_installation_plan$get_solve_policy()</code></a></p></li>
<li><p><a href="#method-pkg_installation_plan-set_solve_policy"><code>pkg_installation_plan$set_solve_policy()</code></a></p></li>
<li><p><a href="#method-pkg_installation_plan-solve"><code>pkg_installation_plan$solve()</code></a></p></li>
<li><p><a href="#method-pkg_installation_plan-update"><code>pkg_installation_plan$update()</code></a></p></li>
<li><p><a href="#method-pkg_installation_plan-update_sysreqs"><code>pkg_installation_plan$update_sysreqs()</code></a></p></li>
<li><p><a href="#method-pkg_installation_plan-format"><code>pkg_installation_plan$format()</code></a></p></li>
<li><p><a href="#method-pkg_installation_plan-clone"><code>pkg_installation_plan$clone()</code></a></p></li>
</ul></div><p><details><summary>Inherited methods</summary><ul><li><span class="pkg-link" data-pkg="pkgdepends" data-topic="pkg_installation_proposal" data-id="async_download"><a href="pkg_installation_proposal.html#method-async_download"><code>pkgdepends::pkg_installation_proposal$async_download()</code></a></span></li>
<li><span class="pkg-link" data-pkg="pkgdepends" data-topic="pkg_installation_proposal" data-id="create_lockfile"><a href="pkg_installation_proposal.html#method-create_lockfile"><code>pkgdepends::pkg_installation_proposal$create_lockfile()</code></a></span></li>
<li><span class="pkg-link" data-pkg="pkgdepends" data-topic="pkg_installation_proposal" data-id="download"><a href="pkg_installation_proposal.html#method-download"><code>pkgdepends::pkg_installation_proposal$download()</code></a></span></li>
<li><span class="pkg-link" data-pkg="pkgdepends" data-topic="pkg_installation_proposal" data-id="draw"><a href="pkg_installation_proposal.html#method-draw"><code>pkgdepends::pkg_installation_proposal$draw()</code></a></span></li>
<li><span class="pkg-link" data-pkg="pkgdepends" data-topic="pkg_installation_proposal" data-id="get_config"><a href="pkg_installation_proposal.html#method-get_config"><code>pkgdepends::pkg_installation_proposal$get_config()</code></a></span></li>
<li><span class="pkg-link" data-pkg="pkgdepends" data-topic="pkg_installation_proposal" data-id="get_downloads"><a href="pkg_installation_proposal.html#method-get_downloads"><code>pkgdepends::pkg_installation_proposal$get_downloads()</code></a></span></li>
<li><span class="pkg-link" data-pkg="pkgdepends" data-topic="pkg_installation_proposal" data-id="get_install_plan"><a href="pkg_installation_proposal.html#method-get_install_plan"><code>pkgdepends::pkg_installation_proposal$get_install_plan()</code></a></span></li>
<li><span class="pkg-link" data-pkg="pkgdepends" data-topic="pkg_installation_proposal" data-id="get_refs"><a href="pkg_installation_proposal.html#method-get_refs"><code>pkgdepends::pkg_installation_proposal$get_refs()</code></a></span></li>
<li><span class="pkg-link" data-pkg="pkgdepends" data-topic="pkg_installation_proposal" data-id="get_resolution"><a href="pkg_installation_proposal.html#method-get_resolution"><code>pkgdepends::pkg_installation_proposal$get_resolution()</code></a></span></li>
<li><span class="pkg-link" data-pkg="pkgdepends" data-topic="pkg_installation_proposal" data-id="get_solution"><a href="pkg_installation_proposal.html#method-get_solution"><code>pkgdepends::pkg_installation_proposal$get_solution()</code></a></span></li>
<li><span class="pkg-link" data-pkg="pkgdepends" data-topic="pkg_installation_proposal" data-id="get_sysreqs"><a href="pkg_installation_proposal.html#method-get_sysreqs"><code>pkgdepends::pkg_installation_proposal$get_sysreqs()</code></a></span></li>
<li><span class="pkg-link" data-pkg="pkgdepends" data-topic="pkg_installation_proposal" data-id="install"><a href="pkg_installation_proposal.html#method-install"><code>pkgdepends::pkg_installation_proposal$install()</code></a></span></li>
<li><span class="pkg-link" data-pkg="pkgdepends" data-topic="pkg_installation_proposal" data-id="install_sysreqs"><a href="pkg_installation_proposal.html#method-install_sysreqs"><code>pkgdepends::pkg_installation_proposal$install_sysreqs()</code></a></span></li>
<li><span class="pkg-link" data-pkg="pkgdepends" data-topic="pkg_installation_proposal" data-id="print"><a href="pkg_installation_proposal.html#method-print"><code>pkgdepends::pkg_installation_proposal$print()</code></a></span></li>
<li><span class="pkg-link" data-pkg="pkgdepends" data-topic="pkg_installation_proposal" data-id="show_solution"><a href="pkg_installation_proposal.html#method-show_solution"><code>pkgdepends::pkg_installation_proposal$show_solution()</code></a></span></li>
<li><span class="pkg-link" data-pkg="pkgdepends" data-topic="pkg_installation_proposal" data-id="show_sysreqs"><a href="pkg_installation_proposal.html#method-show_sysreqs"><code>pkgdepends::pkg_installation_proposal$show_sysreqs()</code></a></span></li>
<li><span class="pkg-link" data-pkg="pkgdepends" data-topic="pkg_installation_proposal" data-id="stop_for_download_error"><a href="pkg_installation_proposal.html#method-stop_for_download_error"><code>pkgdepends::pkg_installation_proposal$stop_for_download_error()</code></a></span></li>
<li><span class="pkg-link" data-pkg="pkgdepends" data-topic="pkg_installation_proposal" data-id="stop_for_solution_error"><a href="pkg_installation_proposal.html#method-stop_for_solution_error"><code>pkgdepends::pkg_installation_proposal$stop_for_solution_error()</code></a></span></li>
</ul></details></p><hr><a id="method-pkg_installation_plan-new"></a><div class="section">
<h3 id="method-new-">Method <code>new()</code><a class="anchor" aria-label="anchor" href="#method-new-"></a></h3>
<p>Create a new <code>pkg_installation_plan</code> object. Consider using
<code>new_pkg_installation_plan()</code> instead of calling the constructor
directly.</p>
<p>The returned object can be used to download and install
packages, according to the plan.</p><div class="section">
<h4 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va"><a href="../reference/pkg_installation_plan.html">pkg_installation_plan</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span></span>
<span>  lockfile <span class="op">=</span> <span class="st">"pkg.lock"</span>,</span>
<span>  config <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  remote_types <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-1">Arguments<a class="anchor" aria-label="anchor" href="#arguments-1"></a></h4>
<p></p><div class="arguments"><dl><dt><code>lockfile</code></dt>
<dd><p>Path to the lock file to use.</p></dd>


<dt><code>config</code></dt>
<dd><p>Configuration options. See
<a href="pkg_config.html">'Configuration'</a>. It needs to include the package
library to install to, in <code>library</code>.</p></dd>


<dt><code>remote_types</code></dt>
<dd><p>Custom remote ref types, this is for advanced
use, and experimental currently.</p></dd>


</dl><p></p></div>
</div>

</div><p></p><hr><a id="method-pkg_installation_plan-resolve"></a><div class="section">
<h3 id="method-resolve-">Method <code>resolve()</code><a class="anchor" aria-label="anchor" href="#method-resolve-"></a></h3>
<p>This function is implemented for installation plans, and will error.</p><div class="section">
<h4 id="usage-1">Usage<a class="anchor" aria-label="anchor" href="#usage-1"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">pkg_installation_plan</span><span class="op">$</span><span class="fu">resolve</span><span class="op">(</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-pkg_installation_plan-async_resolve"></a><div class="section">
<h3 id="method-async-resolve-">Method <code>async_resolve()</code><a class="anchor" aria-label="anchor" href="#method-async-resolve-"></a></h3>
<p>This function is implemented for installation plans, and will error.</p><div class="section">
<h4 id="usage-2">Usage<a class="anchor" aria-label="anchor" href="#usage-2"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">pkg_installation_plan</span><span class="op">$</span><span class="fu">async_resolve</span><span class="op">(</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-pkg_installation_plan-get_solve_policy"></a><div class="section">
<h3 id="method-get-solve-policy-">Method <code>get_solve_policy()</code><a class="anchor" aria-label="anchor" href="#method-get-solve-policy-"></a></h3>
<p>Installation plans are already solved, and this method will return
<code>NA_character_</code>, always.</p><div class="section">
<h4 id="usage-3">Usage<a class="anchor" aria-label="anchor" href="#usage-3"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">pkg_installation_plan</span><span class="op">$</span><span class="fu">get_solve_policy</span><span class="op">(</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-pkg_installation_plan-set_solve_policy"></a><div class="section">
<h3 id="method-set-solve-policy-">Method <code>set_solve_policy()</code><a class="anchor" aria-label="anchor" href="#method-set-solve-policy-"></a></h3>
<p>This function is implemented for installation plans, and will error.</p><div class="section">
<h4 id="usage-4">Usage<a class="anchor" aria-label="anchor" href="#usage-4"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">pkg_installation_plan</span><span class="op">$</span><span class="fu">set_solve_policy</span><span class="op">(</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-pkg_installation_plan-solve"></a><div class="section">
<h3 id="method-solve-">Method <code><a href="https://rdrr.io/r/base/solve.html" class="external-link">solve()</a></code><a class="anchor" aria-label="anchor" href="#method-solve-"></a></h3>
<p>This function is implemented for installation plans, and will error.</p><div class="section">
<h4 id="usage-5">Usage<a class="anchor" aria-label="anchor" href="#usage-5"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">pkg_installation_plan</span><span class="op">$</span><span class="fu">solve</span><span class="op">(</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-pkg_installation_plan-update"></a><div class="section">
<h3 id="method-update-">Method <code><a href="https://rdrr.io/r/stats/update.html" class="external-link">update()</a></code><a class="anchor" aria-label="anchor" href="#method-update-"></a></h3>
<p>Update the plan to the current state of the library. If the library
has not changed since the plan was created, then it does nothing.
If new packages have been installed, then it might not be necessary
to download and install all packages in the plan.</p><div class="section">
<h4 id="usage-6">Usage<a class="anchor" aria-label="anchor" href="#usage-6"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">pkg_installation_plan</span><span class="op">$</span><span class="fu">update</span><span class="op">(</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="details-1">Details<a class="anchor" aria-label="anchor" href="#details-1"></a></h4>
<p>This operation is different than creating a new proposal with the
updated library, because it uses the the packages and package
versions of the original plan. E.g. if the library has a newer
version of a package, then <code>$update()</code> will downgrade it to the
version in the plan.</p>
</div>


</div><p></p><hr><a id="method-pkg_installation_plan-update_sysreqs"></a><div class="section">
<h3 id="method-update-sysreqs-">Method <code>update_sysreqs()</code><a class="anchor" aria-label="anchor" href="#method-update-sysreqs-"></a></h3>
<p>Update information about installed and missing system requirements.</p><div class="section">
<h4 id="usage-7">Usage<a class="anchor" aria-label="anchor" href="#usage-7"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">pkg_installation_plan</span><span class="op">$</span><span class="fu">update_sysreqs</span><span class="op">(</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-pkg_installation_plan-format"></a><div class="section">
<h3 id="method-format-">Method <code><a href="https://rdrr.io/r/base/format.html" class="external-link">format()</a></code><a class="anchor" aria-label="anchor" href="#method-format-"></a></h3>
<p>Format a <code>pkg_installation_plan</code> object, typically for printing.</p><div class="section">
<h4 id="usage-8">Usage<a class="anchor" aria-label="anchor" href="#usage-8"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">pkg_installation_plan</span><span class="op">$</span><span class="fu">format</span><span class="op">(</span><span class="va">...</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-2">Arguments<a class="anchor" aria-label="anchor" href="#arguments-2"></a></h4>
<p></p><div class="arguments"><dl><dt><code>...</code></dt>
<dd><p>not used currently.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns">Returns<a class="anchor" aria-label="anchor" href="#returns"></a></h4>
<p>A character vector, each element should be a line in the printout.</p>
</div>

</div><p></p><hr><a id="method-pkg_installation_plan-clone"></a><div class="section">
<h3 id="method-clone-">Method <code>clone()</code><a class="anchor" aria-label="anchor" href="#method-clone-"></a></h3>
<p>The objects of this class are cloneable with this method.</p><div class="section">
<h4 id="usage-9">Usage<a class="anchor" aria-label="anchor" href="#usage-9"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">pkg_installation_plan</span><span class="op">$</span><span class="fu">clone</span><span class="op">(</span>deep <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-3">Arguments<a class="anchor" aria-label="anchor" href="#arguments-3"></a></h4>
<p></p><div class="arguments"><dl><dt><code>deep</code></dt>
<dd><p>Whether to make a deep clone.</p></dd>


</dl><p></p></div>
</div>

</div>

    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


   </div>
  <footer><div class="container">
  <div class="pkgdown-footer-left">
  <p>Developed by <a href="https://github.com/gaborcsardi" class="external-link">Gábor Csárdi</a>, <a href="https://www.posit.co" class="external-link"><img src="https://www.tidyverse.org/posit-logo.svg" alt="Posit" height="16" width="62" style="margin-bottom: 3px;"></a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.2.</p>
</div>

  </div></footer></body></html>

